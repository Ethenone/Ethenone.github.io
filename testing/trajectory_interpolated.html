<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_b71ef4e8b1c4364e86377378e5b53a78 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_b71ef4e8b1c4364e86377378e5b53a78" ></div>
        
</body>
<script>
    
    
            var map_b71ef4e8b1c4364e86377378e5b53a78 = L.map(
                "map_b71ef4e8b1c4364e86377378e5b53a78",
                {
                    center: [34.0, 113.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 5,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_c832eefd89f9b4814bdc870c80720043 = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e", "detectRetina": false, "maxNativeZoom": 20, "maxZoom": 20, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abcd", "tms": false}
            );
        
    
            tile_layer_c832eefd89f9b4814bdc870c80720043.addTo(map_b71ef4e8b1c4364e86377378e5b53a78);
        
    
            var marker_d81968d5fb4d006ae328a734a8039389 = L.marker(
                [31.2304, 121.4737],
                {}
            ).addTo(map_b71ef4e8b1c4364e86377378e5b53a78);
        
    
            var icon_d38c73d8efbdf9ca365998599a47c6d8 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "green", "prefix": "glyphicon"}
            );
            marker_d81968d5fb4d006ae328a734a8039389.setIcon(icon_d38c73d8efbdf9ca365998599a47c6d8);
        
    
        var popup_24072ad91e6fcdcaa411abb1c2fde315 = L.popup({"maxWidth": "100%"});

        
            
                var html_7a6cfc7cf6b065b293fee2cf19b43f8a = $(`<div id="html_7a6cfc7cf6b065b293fee2cf19b43f8a" style="width: 100.0%; height: 100.0%;">ÁÅ´ËΩ¶Ëµ∑ÁÇπ</div>`)[0];
                popup_24072ad91e6fcdcaa411abb1c2fde315.setContent(html_7a6cfc7cf6b065b293fee2cf19b43f8a);
            
        

        marker_d81968d5fb4d006ae328a734a8039389.bindPopup(popup_24072ad91e6fcdcaa411abb1c2fde315)
        ;

        
    
    
            var marker_d922650c02dd466e21c4793b3bb900a4 = L.marker(
                [34.3416, 108.9398],
                {}
            ).addTo(map_b71ef4e8b1c4364e86377378e5b53a78);
        
    
            var icon_ca5bda1c64fd3eb16dddd1a62433b236 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "red", "prefix": "glyphicon"}
            );
            marker_d922650c02dd466e21c4793b3bb900a4.setIcon(icon_ca5bda1c64fd3eb16dddd1a62433b236);
        
    
        var popup_fb091557bb7ee919f1596e997f7f7e47 = L.popup({"maxWidth": "100%"});

        
            
                var html_0a9cce82562d281fd1fc9664076f8b85 = $(`<div id="html_0a9cce82562d281fd1fc9664076f8b85" style="width: 100.0%; height: 100.0%;">ÁÅ´ËΩ¶ÁªàÁÇπ</div>`)[0];
                popup_fb091557bb7ee919f1596e997f7f7e47.setContent(html_0a9cce82562d281fd1fc9664076f8b85);
            
        

        marker_d922650c02dd466e21c4793b3bb900a4.bindPopup(popup_fb091557bb7ee919f1596e997f7f7e47)
        ;

        
    
    
            var marker_d5ec4db8e763c0093c44d1ae3f8a6645 = L.marker(
                [31.2304, 238.5263],
                {}
            ).addTo(map_b71ef4e8b1c4364e86377378e5b53a78);
        
    
            var icon_5299c14544aca0c8f0742367a3ba3959 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "blue", "prefix": "glyphicon"}
            );
            marker_d5ec4db8e763c0093c44d1ae3f8a6645.setIcon(icon_5299c14544aca0c8f0742367a3ba3959);
        
    
        var popup_e23962153b2305b25080a8ce74b09324 = L.popup({"maxWidth": "100%"});

        
            
                var html_6b7e815fc66c18b9fed72a692d5d44b3 = $(`<div id="html_6b7e815fc66c18b9fed72a692d5d44b3" style="width: 100.0%; height: 100.0%;">Ëà™Áè≠Ëµ∑ÁÇπ</div>`)[0];
                popup_e23962153b2305b25080a8ce74b09324.setContent(html_6b7e815fc66c18b9fed72a692d5d44b3);
            
        

        marker_d5ec4db8e763c0093c44d1ae3f8a6645.bindPopup(popup_e23962153b2305b25080a8ce74b09324)
        ;

        
    
    
            var marker_9b7b94c56a6dcfbd32fe9ffff80a5e2b = L.marker(
                [39.9042, 116.4074],
                {}
            ).addTo(map_b71ef4e8b1c4364e86377378e5b53a78);
        
    
            var icon_1fb9860fd77a1a66796610fa6690edd6 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "orange", "prefix": "glyphicon"}
            );
            marker_9b7b94c56a6dcfbd32fe9ffff80a5e2b.setIcon(icon_1fb9860fd77a1a66796610fa6690edd6);
        
    
        var popup_d8d8dd72e5af924441d632c97d4eca48 = L.popup({"maxWidth": "100%"});

        
            
                var html_f2e73525d9496a49ea4b42e0cf8d959a = $(`<div id="html_f2e73525d9496a49ea4b42e0cf8d959a" style="width: 100.0%; height: 100.0%;">Ëà™Áè≠ÁªàÁÇπ</div>`)[0];
                popup_d8d8dd72e5af924441d632c97d4eca48.setContent(html_f2e73525d9496a49ea4b42e0cf8d959a);
            
        

        marker_9b7b94c56a6dcfbd32fe9ffff80a5e2b.bindPopup(popup_d8d8dd72e5af924441d632c97d4eca48)
        ;

        
    
</script>
</html>
<script>
var map = Object.values(window).find(v => v instanceof L.Map); // Ëé∑ÂèñfoliumÁöÑÂú∞ÂõæÂØπË±°
var polyline = L.polyline([], {color: 'deepskyblue', weight: 4, opacity: 0.8}).addTo(map);
var iconEmoji = "üöÜ"
var train = "üöÜ"
var plane = "‚úàÔ∏è"
function animateMarker(path, duration) {
  let marker = L.marker(path[0], {
    icon: L.divIcon({
      className: 'animated-marker',
      html: '<div style="font-size:24px;">' + iconEmoji + '</div>'
    })
  }).addTo(map);

  let i = 0;
  let steps = path.length;
  function move() {
    if (i == 60) {
        map.removeLayer(marker);
        marker = L.marker(path[i], {
            icon: L.divIcon({
                className: 'animated-marker',
                html: '<div style="font-size:24px;">' + plane + '</div>'
                })
      }).addTo(map);
    }
    if (i < steps) {
      polyline.addLatLng(path[i]);
      map.panTo(path[i], {animate: true, duration: 1});
      marker.setLatLng(path[i]);
      i++;
      setTimeout(move, duration / steps);
    } else {
      map.removeLayer(marker);
    }
  }
  move();
}

var train_path = [[31.2304, 121.4737], [31.26182626262626, 121.34709494949495], [31.293252525252523, 121.2204898989899], [31.32467878787879, 121.09388484848485], [31.35610505050505, 120.9672797979798], [31.387531313131312, 120.84067474747474], [31.418957575757574, 120.71406969696969], [31.45038383838384, 120.58746464646464], [31.4818101010101, 120.46085959595959], [31.513236363636363, 120.33425454545454], [31.544662626262625, 120.2076494949495], [31.57608888888889, 120.08104444444444], [31.607515151515152, 119.9544393939394], [31.638941414141414, 119.82783434343433], [31.670367676767675, 119.70122929292928], [31.701793939393937, 119.57462424242424], [31.733220202020203, 119.44801919191919], [31.764646464646464, 119.32141414141414], [31.796072727272726, 119.19480909090909], [31.827498989898988, 119.06820404040404], [31.858925252525253, 118.94159898989899], [31.890351515151515, 118.81499393939393], [31.921777777777777, 118.68838888888888], [31.95320404040404, 118.56178383838383], [31.984630303030304, 118.43517878787878], [32.01605656565656, 118.30857373737373], [32.04748282828283, 118.18196868686869], [32.07890909090909, 118.05536363636364], [32.110335353535355, 117.92875858585859], [32.14176161616162, 117.80215353535354], [32.17318787878788, 117.67554848484848], [32.20461414141414, 117.54894343434343], [32.2360404040404, 117.42233838383838], [32.267466666666664, 117.29573333333333], [32.298892929292926, 117.16912828282828], [32.330319191919195, 117.04252323232323], [32.361745454545456, 116.91591818181818], [32.39317171717172, 116.78931313131312], [32.42459797979798, 116.66270808080807], [32.45602424242424, 116.53610303030302], [32.487450505050504, 116.40949797979798], [32.518876767676765, 116.28289292929293], [32.55030303030303, 116.15628787878788], [32.581729292929296, 116.02968282828283], [32.61315555555556, 115.90307777777778], [32.64458181818182, 115.77647272727273], [32.67600808080808, 115.64986767676767], [32.70743434343434, 115.52326262626262], [32.738860606060605, 115.39665757575757], [32.77028686868687, 115.27005252525252], [32.80171313131313, 115.14344747474748], [32.83313939393939, 115.01684242424243], [32.86456565656566, 114.89023737373738], [32.89599191919192, 114.76363232323233], [32.92741818181818, 114.63702727272727], [32.958844444444445, 114.51042222222222], [32.99027070707071, 114.38381717171717], [33.02169696969697, 114.25721212121212], [33.05312323232323, 114.13060707070707], [33.08454949494949, 114.00400202020202], [33.115975757575754, 113.87739696969697], [33.14740202020202, 113.75079191919193], [33.178828282828285, 113.62418686868688], [33.210254545454546, 113.49758181818181], [33.24168080808081, 113.37097676767677], [33.27310707070707, 113.24437171717172], [33.30453333333333, 113.11776666666667], [33.335959595959594, 112.99116161616162], [33.367385858585855, 112.86455656565657], [33.39881212121212, 112.73795151515152], [33.430238383838386, 112.61134646464646], [33.46166464646465, 112.48474141414141], [33.49309090909091, 112.35813636363636], [33.52451717171717, 112.23153131313131], [33.55594343434343, 112.10492626262626], [33.587369696969695, 111.97832121212122], [33.61879595959596, 111.85171616161617], [33.65022222222222, 111.72511111111112], [33.68164848484849, 111.59850606060607], [33.71307474747475, 111.471901010101], [33.74450101010101, 111.34529595959596], [33.77592727272727, 111.21869090909091], [33.807353535353535, 111.09208585858586], [33.8387797979798, 110.96548080808081], [33.87020606060606, 110.83887575757576], [33.90163232323232, 110.71227070707072], [33.93305858585859, 110.58566565656567], [33.96448484848485, 110.4590606060606], [33.99591111111111, 110.33245555555555], [34.027337373737375, 110.2058505050505], [34.058763636363636, 110.07924545454546], [34.0901898989899, 109.95264040404041], [34.12161616161616, 109.82603535353536], [34.15304242424242, 109.69943030303031], [34.184468686868684, 109.57282525252526], [34.21589494949495, 109.44622020202021], [34.247321212121214, 109.31961515151515], [34.278747474747476, 109.1930101010101], [34.31017373737374, 109.06640505050505], [34.3416, 108.9398], [31.230400000000003, 238.5263], [31.9270789070472, 237.8231484752514], [32.619825252081995, 237.10929861951453], [33.30846979064717, 236.38435581950299], [33.99283661412375, 235.64791573602017], [34.67274284833736, 234.8995642999206], [35.34799834427096, 234.13887776139745], [36.01840536152232, 233.36542280039862], [36.68375824532418, 232.57875670678783], [37.343843098151844, 231.7784276397303], [37.998437447176045, 230.96397497669145], [38.64730990908542, 230.13492976338117], [39.29021985410173, 229.29081527695055], [39.92691707134664, 228.43114771573397], [40.557141438093275, 227.55543702981362], [41.18062259585095, 226.6631879076402], [41.797079636688274, 225.75390093484566], [42.40622080370133, 224.82707394219642], [43.00774321007649, 223.8822035603154], [43.60133258178438, 222.918786999297], [44.186663029566226, 221.93632407159336], [44.763396856534904, 220.9343194764914], [45.3311844084015, 219.9122853640495], [45.889663974046265, 218.8697441954328], [46.438461744866814, 217.80623191507738], [46.97719184204047, 216.721301447923], [47.50545642151223, 215.6145265319672], [48.022845867138344, 214.48550589250164], [48.52893908295019, 213.3338677594818], [49.02330389591819, 212.15927472345018], [49.505497580851475, 210.96142891820264], [49.97506751912172, 209.74007750988818], [50.431552002700606, 208.49501846245244], [50.87448119449837, 207.22610653829324], [51.30337825513355, 205.93325948079075], [51.71776064499992, 204.61646431216462], [52.11714160877794, 203.275783666161], [52.501031847325024, 201.91136206073674], [52.868941379142974, 200.52343200165473], [53.22038159034896, 199.1123197943119], [53.55486746827794, 197.6784509288692], [53.87192000955173, 196.22235489361663], [54.171068788728434, 194.74466926431563], [54.451854668591345, 193.24614291388414], [54.71383262787992, 191.7276381880518], [54.956574676974206, 190.19013189927614], [55.17967282691338, 188.634715003858], [55.382742072383735, 187.06259084620316], [55.56542334518786, 185.47507187961665], [55.727386391451, 183.87357480460454], [55.8683325236632, 182.25961410272674], [55.98799719780446, 180.63479398550479], [56.08615236641788, 179.00079882228096], [56.16260856068543, 177.35938215644026], [56.217216658355696, 175.71235446401084], [56.24986929972213, 174.06156985018055], [56.26050192062043, 172.40891191558012], [56.24909337938881, 170.75627905332783], [56.215666163626416, 169.105569458186], [56.16028617204971, 167.4586661395888], [56.083062076401, 165.81742223015908], [55.98414427781766, 164.18364687065235], [55.86372348094205, 162.5590919316601], [55.722028916998816, 160.94543980304866], [55.559326253801395, 159.34429244563526], [55.37591523595923, 157.75716185796776], [55.1721271023093, 156.18546206642353], [54.94832182974368, 154.63050270132817], [54.704885253181814, 153.09348417746048], [54.44222611054784, 151.57549445594623], [54.1607730594251, 150.07750732760906], [53.86097170877656, 148.60038212641194], [53.54328170497877, 147.14486475635223], [53.20817390665666, 145.7115898963345], [52.85612767767001, 144.30108423506036], [52.48762832230887, 142.91377058146472], [52.1031646815028, 141.54997269509545], [51.7032269038007, 140.2099206843245], [51.28830440016734, 138.89375682755528], [50.85888398736191, 137.60154168279732], [50.41544822087923, 136.33326036327205], [49.95847391517662, 135.08882887033593], [49.48843084618691, 133.86810038926643], [49.0057806289191, 132.6708714677887], [48.51097576124178, 131.49688801115522], [48.004458823691714, 130.3458510407762], [47.48666182430269, 129.21742217557608], [46.9580056769564, 128.11122880626053], [46.418899801565416, 127.02686894242608], [45.86974183445697, 125.96391572090701], [45.3109174375871, 124.92192157095542], [44.74280019563336, 123.90042203784857], [44.165751590551245, 122.89893927139899], [43.58012104380069, 121.91698518971155], [42.98624601712359, 120.95406433149303], [42.38445216345879, 120.00967641239376], [41.7750535202942, 119.08331860235121], [41.15835273846413, 118.1744875418223], [40.53464134008709, 117.28268111523015], [39.9042, 116.40740000000001]];
var flight_path = [[31.230400000000003, 238.5263], [31.9270789070472, 237.8231484752514], [32.619825252081995, 237.10929861951453], [33.30846979064717, 236.38435581950299], [33.99283661412375, 235.64791573602017], [34.67274284833736, 234.8995642999206], [35.34799834427096, 234.13887776139745], [36.01840536152232, 233.36542280039862], [36.68375824532418, 232.57875670678783], [37.343843098151844, 231.7784276397303], [37.998437447176045, 230.96397497669145], [38.64730990908542, 230.13492976338117], [39.29021985410173, 229.29081527695055], [39.92691707134664, 228.43114771573397], [40.557141438093275, 227.55543702981362], [41.18062259585095, 226.6631879076402], [41.797079636688274, 225.75390093484566], [42.40622080370133, 224.82707394219642], [43.00774321007649, 223.8822035603154], [43.60133258178438, 222.918786999297], [44.186663029566226, 221.93632407159336], [44.763396856534904, 220.9343194764914], [45.3311844084015, 219.9122853640495], [45.889663974046265, 218.8697441954328], [46.438461744866814, 217.80623191507738], [46.97719184204047, 216.721301447923], [47.50545642151223, 215.6145265319672], [48.022845867138344, 214.48550589250164], [48.52893908295019, 213.3338677594818], [49.02330389591819, 212.15927472345018], [49.505497580851475, 210.96142891820264], [49.97506751912172, 209.74007750988818], [50.431552002700606, 208.49501846245244], [50.87448119449837, 207.22610653829324], [51.30337825513355, 205.93325948079075], [51.71776064499992, 204.61646431216462], [52.11714160877794, 203.275783666161], [52.501031847325024, 201.91136206073674], [52.868941379142974, 200.52343200165473], [53.22038159034896, 199.1123197943119], [53.55486746827794, 197.6784509288692], [53.87192000955173, 196.22235489361663], [54.171068788728434, 194.74466926431563], [54.451854668591345, 193.24614291388414], [54.71383262787992, 191.7276381880518], [54.956574676974206, 190.19013189927614], [55.17967282691338, 188.634715003858], [55.382742072383735, 187.06259084620316], [55.56542334518786, 185.47507187961665], [55.727386391451, 183.87357480460454], [55.8683325236632, 182.25961410272674], [55.98799719780446, 180.63479398550479], [56.08615236641788, 179.00079882228096], [56.16260856068543, 177.35938215644026], [56.217216658355696, 175.71235446401084], [56.24986929972213, 174.06156985018055], [56.26050192062043, 172.40891191558012], [56.24909337938881, 170.75627905332783], [56.215666163626416, 169.105569458186], [56.16028617204971, 167.4586661395888], [56.083062076401, 165.81742223015908], [55.98414427781766, 164.18364687065235], [55.86372348094205, 162.5590919316601], [55.722028916998816, 160.94543980304866], [55.559326253801395, 159.34429244563526], [55.37591523595923, 157.75716185796776], [55.1721271023093, 156.18546206642353], [54.94832182974368, 154.63050270132817], [54.704885253181814, 153.09348417746048], [54.44222611054784, 151.57549445594623], [54.1607730594251, 150.07750732760906], [53.86097170877656, 148.60038212641194], [53.54328170497877, 147.14486475635223], [53.20817390665666, 145.7115898963345], [52.85612767767001, 144.30108423506036], [52.48762832230887, 142.91377058146472], [52.1031646815028, 141.54997269509545], [51.7032269038007, 140.2099206843245], [51.28830440016734, 138.89375682755528], [50.85888398736191, 137.60154168279732], [50.41544822087923, 136.33326036327205], [49.95847391517662, 135.08882887033593], [49.48843084618691, 133.86810038926643], [49.0057806289191, 132.6708714677887], [48.51097576124178, 131.49688801115522], [48.004458823691714, 130.3458510407762], [47.48666182430269, 129.21742217557608], [46.9580056769564, 128.11122880626053], [46.418899801565416, 127.02686894242608], [45.86974183445697, 125.96391572090701], [45.3109174375871, 124.92192157095542], [44.74280019563336, 123.90042203784857], [44.165751590551245, 122.89893927139899], [43.58012104380069, 121.91698518971155], [42.98624601712359, 120.95406433149303], [42.38445216345879, 120.00967641239376], [41.7750535202942, 119.08331860235121], [41.15835273846413, 118.1744875418223], [40.53464134008709, 117.28268111523015], [39.9042, 116.40740000000001]];

animateMarker(train_path, 6000);
// animateMarker(flight_path, 4000);
</script>
